<!--
  This template loads for the 'tab.friend-detail' state (app.js)
  'friend' is a $scope variable created in the FriendsCtrl controller (controllers.js)
  The FriendsCtrl pulls data from the Friends service (service.js)
  The Friends service returns an array of friend data
-->

<ion-view view-title="{{currentTask.kehu}}" cache-view="false">

  <ion-nav-buttons side="left">
    <button class="button" ng-click="goBack()"><i class="icon ion-android-arrow-back"></i></button>
  </ion-nav-buttons>

  <ion-content>
    <div id='mapContainer' style="width: 100%; height: 300px"></div>
    <div id="tip" ng-show="false">
      <div>
        <input class="button" type="button" value="持续监控位置" ng-click="watchPosition()"/>
        <input class="button" type="button" value="获得当前位置" ng-click="getCurrentPosition()"/>
      </div>
      <div id="r_title"><b>定位结果:</b></div>
      <div id="result"></div>
    </div>

    <div class="list">

      <form ng-app="starter" ng-controller="CustomerDetailController" name="taskExecutionForm" id="taskExecutionForm">

        <label class="item item-input">
          <span class="input-label">公司名称</span>
          <input type="text" ng-model="currentTask.kehu" placeholder="公司名称">

        </label>

        <label class="item item-input">
          <button class="button " ng-click="takePicture()">

            <i class="icon ion-ios-camera button-large calm-900"></i> 拍照
          </button>
          {{imgURI}}

        </label>

        <label class="item item-input">
          <span class="input-label">地址</span>
          <input type="text" ng-model="additionalTaskInfo.address" placeholder="公司地址">

          <p>{{additionalTaskInfo.address}}</p>

        </label>

        <label class="item item-input">
          <span class="input-label">拜访日期</span>

          <p>{{currentTask.riqi}}</p>

        </label>

        <label class="item item-toggle">

          <span class="input-label">已完成</span>

          <label class="toggle toggle-positive">
            <input type="checkbox" ng-model="additionalTaskInfo.finished">

            <div class="track">
              <div class="handle"></div>
            </div>
          </label>


        </label>

        <label class="item item-input">

          <span class="input-label">备注</span>
          <input type="text" ng-model="additionalTaskInfo.comments" placeholder="在此输入备注">

        </label>

        <label class="item">
          <img ng-show="imgURI !== undefined" ng-src="{{imgURI}}">
          <img ngf-thumbnail="file" style="border-radius: 5px">
        </label>

        <div class="padding">
          <button type="submit" class="button button-calm button-block" ng-click="submitTask(task)">
            执行
          </button>
        </div>
      </form>
    </div>
  </ion-content>
</ion-view>
